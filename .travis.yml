language: python
env: PYTHON=python3

jobs:
  include:
    - python: 3.5
    - python: 3.6
    - python: 3.7
    - python: 3.8
    - python: pypy3
    - os: osx
      language: generic
    - os: windows
      language: shell
      env: PYTHON=/c/Python38/python

install:
  - if [[ "$TRAVIS_OS_NAME" == "windows" ]]; then choco install -y python; fi
  - $PYTHON -m pip install --upgrade pip setuptools
  - $PYTHON -m pip install .[test]

script:
  - $PYTHON -m pytest --isort --flake8
